---
title: "Detection of consensus peak regions inside a group of experiences using narrowPeak data"
output:
  BiocStyle::html_document:
    toc: true
bibliography: consensusSeekeR.bib
vignette: >
  %\VignetteIndexEntry{Detection of consensus peak regions inside a group of experiences using narrowPeak files}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignettePackage{consensusSeekeR}
---

```{r style, echo = FALSE, results = 'asis'}
BiocStyle::markdown()
```

<br />

Authors: Astrid Louise Deschenes, Fabien Claude Lamaze, Pascal Belleau 
and Arnaud Droit <br />
Compilation date: `r Sys.Date()`


## 1. Licensing

This package and the underlying `consensusSeekeR` code are distributed 
under the Artistic license 2.0. You are free to use and redistribute this 
software.


## 2. Introduction

The genome is commonly represented as a linear sequence, split up in 
multiple chromosomes. Genome data, such as genes or single-nucleotide 
polymorphisms (SNPs) are linked to the genome by occupying either a range of 
positions or a single position on the sequence. Genomic related data 
integration is made possible by treating the data as 
ranges on the genome, which acts as a common scaffold [@Lawrence2013]. 
Bioconductor as developed an infrastructure, including packages such as 
`r Biocpkg("GenomicRanges")`,  `r Biocpkg("IRanges")` and 
`r Biocpkg("GenomicFeatures")`, to facilitate 
the integrative statistical analysis of range-based genomic data.

Ranges have a fundamental role in the analysis of experimental data, where 
they are used to represent read alignments.

Next-generation DNA sequencing coupled with chromatin immunoprecipitation 
(ChIP-seq) has changed our ability to interrogate whole genome protein-DNA 
interactions by enabeling  genomic locatization of histone 
modifications and transcription-factor binding in living cells. Consortium, 
such as [ENCODE]((https://www.encodeproject.org) have developed, and 
constantly upgrading, a set of standards and guidelines for ChIP experiments. 
However, it 


## 3. Loading consensusSeekeR package

As with any R package, the `consensusSeekeR` package should first be loaded 
with the following command:

```{r loadingPackage, warning=FALSE, message=FALSE}
library(consensusSeekeR)
```


## 4. Inputs

ChIP-seq combines chromatin immunoprecipitation (ChIP) with massively parallel 
DNA sequencing to identify the binding sites of DNA-associated proteins. The
obtained sequence reads are first mapped to the reference genome of the 
organism used in the experiments. Bindind sites are them dectected by using
software specialized in transcript factor binding sites identification, such 
MACS [@Zhang2008] and PeakRanger [@Feng2011]. Peak
position is defined as a single base pair.

## Using consensusSeekeR on ChIP-Seq data

### ChIP-Seq replicates 

The Encyclopedia of DNA Elements (ENCODE) Consortium is an international 
collaboration of research groups funded by the National Human Genome Research 
Institute. The [ENCODE website](https://www.encodeproject.org) hold data that 
is freely available for download and analysis.

First, the `consensusSeekeR` package must be loaded.

```{r libraryLoad, warning=FALSE, message=FALSE}
library(consensusSeekeR)
```

### ChIP-Seq multiple experiments

## Effect of the extendingSize parameter

The value of the `extendingSize` parameter can affect the final number of 
consensus regions. While small `extendingSize` value can miss some regions, 
large `extendingSize` value can gather consensus regions.



## Using consensusSeekeR on ChIP-Seq samples

### Replicate ChIP-Seq samples from one experiment

The Encyclopedia of DNA Elements (ENCODE) Consortium is an international 
collaboration of research groups funded by the National Human Genome Research 
Institute. The [ENCODE website](https://www.encodeproject.org) is portal 
giving access to the data generated by the ENCODE Consortium. The amount of 
data gathered is extensive. Moreover, for one specific experiment, more than 
one ChIP-Seq replicate is often available.

The software used to identify transcript factor binding sites generally 
generates a peak position and a narrow region region for each binding site. 
However, it is quite unlikely that the exact peak position is exactly the same 
across replicates. Finally, there is not yet a consensus on how to analyze 
multiple-replicate ChIP-seq samples [@Yang2014].

The `consensusSeekeR` package can be used to identify consensus regions for
two or more replicates ChIP-Seq samples. The consensus regions are being found 
by using the peak positions.

The transcription factor binding for the CTCF transcription factor have been
analyzed and 2 replicates are available in BAM files format on 
[ENCODE website](https://www.encodeproject.org) (DCCs: 
ENCFF000MYJ and ENCFF000MYN). (TODO FABIEN : ajouter une courte description 
sur la methode pour obtenir narrowPeak). To simplify this demo, only 


### ChIP-Seq samples from multiple experiments

The `consensusSeekeR` package can also be used to identify consensus regions 
for two or more ChIP-Seq samples from multiple experiments. While the 
consensus regions are being found by using the peak positions, the .

The transcription factor binding for the CTCF transcription factor have been
analyzed and 2 replicates are available in BAM files format on 
[ENCODE website](https://www.encodeproject.org) (DCCs: 
ENCFF000MYJ and ENCFF000MYN). (TODO FABIEN : ajouter une courte description 
sur la methode pour obtenir narrowPeak).


## References

